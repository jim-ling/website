import{c as B,u as S}from"./index-BUe8EuaG.js";/* empty css                  */import{_ as b}from"./index.vue_vue_type_script_setup_true_lang-BnkSlaRs.js";import{t as q,r as d,U as C,x as E,u as o,I as U,F as I,A as a,L as t,J as n,ad as M,aq as N,v as _,M as R,a2 as T}from"./vue-Bh6gtTXA.js";import{S as z,T as K,U as L,y as P,V as A,s as D}from"./element-DIJzmqAM.js";import"./axios-BBfbe_YL.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $="/assets/logo-CPmPqqKk.png";function j(g){return Promise.resolve({data:{token:"token-admin",user:{id:1,username:"testuser"}}})}const G={class:"login-container"},H={class:"login-card"},O={class:"content"},Q=q({name:"Login",__name:"index",setup(g){const x=B(),v=S(),l=d(!1),w=N(),m=d(null),c=d(!1);function h(){c.value=!1}function k(){c.value=!0}const s=C({username:"admin",password:"123456"}),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"blur"}]};function p(){var i;(i=m.value)==null||i.validate(e=>{e&&(l.value=!1,j().then(({data:r})=>{console.log("登录成功"),x.setToken(r.token),w.push("/")}).catch(()=>{s.password=""}).finally(()=>{l.value=!1}))})}return(i,e)=>{const r=P,f=A,y=D,F=z;return _(),E("div",G,[o(v).showThemeSwitch?(_(),U(b,{key:0,class:"theme-switch"})):I("",!0),a("div",H,[e[3]||(e[3]=a("div",{class:"title"},[a("img",{src:$})],-1)),a("div",O,[t(F,{ref_key:"loginFormRef",ref:m,model:o(s),rules:V,onKeyup:M(p,["enter"])},{default:n(()=>[t(f,{prop:"username"},{default:n(()=>[t(r,{modelValue:o(s).username,"onUpdate:modelValue":e[0]||(e[0]=u=>o(s).username=u),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":o(K),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),t(f,{prop:"password"},{default:n(()=>[t(r,{modelValue:o(s).password,"onUpdate:modelValue":e[1]||(e[1]=u=>o(s).password=u),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":o(L),size:"large","show-password":"",onBlur:h,onFocus:k},null,8,["modelValue","prefix-icon"])]),_:1}),t(y,{loading:o(l),type:"primary",size:"large",onClick:R(p,["prevent"])},{default:n(()=>e[2]||(e[2]=[T(" 登 录 ")])),_:1},8,["loading"])]),_:1},8,["model"])])])])}}}),te=J(Q,[["__scopeId","data-v-412a0881"]]);export{te as default};
