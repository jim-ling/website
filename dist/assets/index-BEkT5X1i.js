import{g as ht,s as Be,u as Y,a as et,b as De,c as gt,r as bt}from"./index-BUe8EuaG.js";import{aj as yt,U as wt,r as z,w as tt,c as P,Q as xe,t as F,a8 as K,v,x as V,A as R,L as g,J as x,T as nt,I as M,ao as kt,u as n,K as ge,F as O,ap as Se,aq as Ce,G,af as te,O as U,M as ve,H as X,a2 as Z,h as pe,b as be,ar as xt,as as ot,a0 as st,f as rt,P as at,g as St,s as Ct,ad as _e,at as ie,y as ye,a7 as Et,au as $t,n as Tt,R as Ee,S as $e}from"./vue-Bh6gtTXA.js";import{d as fe,c as Mt,e as Lt,f as Rt,g as It,h as Vt,i as Te,j as lt,k as At,l as Dt,m as Pt,b as we,n as me,o as Ot,p as Me,q as Ft,r as zt,s as it,t as Wt,u as ct,v as ut,w as dt,x as Bt,y as Nt,z as Ut,A as qt,B as Ht,C as jt,D as Xt,F as Kt,G as Gt,H as Jt,I as Yt,J as Qt,K as Zt,L as en,M as tn,N as nn,O as on,P as sn,Q as rn,R as an}from"./element-DIJzmqAM.js";/* empty css                  */import{_ as ln}from"./index.vue_vue_type_script_setup_true_lang-BnkSlaRs.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";var ee=(s=>(s[s.Mobile=0]="Mobile",s[s.Desktop=1]="Desktop",s))(ee||{}),re=(s=>(s.Left="left",s.Top="top",s.LeftTop="left-top",s))(re||{});const cn="opened",ft="closed";function un(s){s?Be(cn):Be(ft)}const ce=yt("app",()=>{const s=wt({opened:ht()!==ft,withoutAnimation:!1}),r=z(ee.Desktop);return tt(()=>s.opened,e=>{un(e)}),{device:r,sidebar:s,toggleSidebar:e=>{s.opened=!s.opened,s.withoutAnimation=e},closeSidebar:e=>{s.opened=!1,s.withoutAnimation=e},toggleDevice:e=>{r.value=e}}}),pt=ce(),dn=P(()=>pt.device===ee.Mobile),fn=P(()=>pt.device===ee.Desktop);function ue(){return{isMobile:dn,isDesktop:fn}}const Le=Y(),pn=P(()=>Le.layoutMode===re.Left),mn=P(()=>Le.layoutMode===re.Top),_n=P(()=>Le.layoutMode===re.LeftTop);function vn(s){Le.layoutMode=s}function ae(){return{isLeft:pn,isTop:mn,isLeftTop:_n,setLayoutMode:vn}}const hn={defense:!1,color:"#c0c4cc",opacity:.1,size:16,family:"serif",angle:-20,width:300,height:200},Ne=z(document.body);function gn(s=Ne){let r,d,a=null;const l={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},e=(_,C={})=>{if(!s.value)return console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");r=_,d={...hn,...C},a?o():t(),h(s.value)},t=()=>{const _=s.value.tagName.toLowerCase()===Ne.value.tagName.toLowerCase(),C=_?"fixed":"absolute",L=_?"":"relative";a=document.createElement("div"),a.style.pointerEvents="none",a.style.top="0",a.style.left="0",a.style.position=C,a.style.zIndex="99999";const{clientWidth:T,clientHeight:B}=s.value;o({width:T,height:B}),s.value.style.position=L,s.value.appendChild(a)},o=(_={})=>{a&&(r&&(a.style.background=`url(${i()}) left top repeat`),_.width&&(a.style.width=`${_.width}px`),_.height&&(a.style.height=`${_.height}px`))},i=()=>{const{color:_,opacity:C,size:L,family:T,angle:B,width:N,height:A}=d,$=document.createElement("canvas");$.width=N,$.height=A;const m=$.getContext("2d");return m&&(m.fillStyle=_,m.globalAlpha=C,m.font=`${L}px ${T}`,m.rotate(Math.PI/180*B),m.fillText(r,0,A/2)),$.toDataURL()},p=()=>{if(!(!s.value||!a)){w();try{s.value.removeChild(a)}catch{console.warn("水印元素已不存在，请重新创建")}finally{a=null}}},c=fe(()=>{p(),t(),h(s.value)},100),h=_=>{d.defense?!l.watermarkElMutationObserver&&!l.parentElMutationObserver&&b(_):w("mutation"),l.parentElResizeObserver||k(_)},w=(_="all")=>{var C,L,T;(_==="mutation"||_==="all")&&((C=l.watermarkElMutationObserver)==null||C.disconnect(),l.watermarkElMutationObserver=void 0,(L=l.parentElMutationObserver)==null||L.disconnect(),l.parentElMutationObserver=void 0),(_==="resize"||_==="all")&&((T=l.parentElResizeObserver)==null||T.disconnect(),l.parentElResizeObserver=void 0)},b=_=>{const C=fe(L=>{L.forEach(fe(T=>{switch(T.type){case"attributes":T.target===a&&c();break;case"childList":T.removedNodes.forEach(B=>{B===a&&_.appendChild(a)});break}},100))},100);l.watermarkElMutationObserver=new MutationObserver(C),l.parentElMutationObserver=new MutationObserver(C),l.watermarkElMutationObserver.observe(a,{attributes:!0,childList:!1,subtree:!1}),l.parentElMutationObserver.observe(_,{attributes:!1,childList:!0,subtree:!1})},k=_=>{const C=fe(()=>{const{clientWidth:L,clientHeight:T}=_;o({width:L,height:T})},500);l.parentElResizeObserver=new ResizeObserver(C),l.parentElResizeObserver.observe(_)};return xe(()=>{p()}),{setWatermark:e,clearWatermark:p}}function he(s,r=document.documentElement){return s!=null&&s.startsWith("--")?getComputedStyle(r).getPropertyValue(s):(console.error("CSS 变量名应以 '--' 开头"),"")}function Ue(s,r,d=document.documentElement){if(!(s!=null&&s.startsWith("--"))){console.error("CSS 变量名应以 '--' 开头");return}d.style.setProperty(s,r)}const bn={class:"app-main"},yn={class:"app-scrollbar"},wn=F({__name:"index",setup(s){const r=et(),d=Y();return(a,l)=>{const e=K("router-view"),t=Mt;return v(),V("section",bn,[R("div",yn,[g(e,null,{default:x(({Component:o,route:i})=>[g(nt,{name:"el-fade-in",mode:"out-in"},{default:x(()=>[(v(),M(kt,{include:n(r).cachedViews},[(v(),M(ge(o),{key:i.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(d).showFooter?(v(),M(n(Rn),{key:0})):O("",!0)]),g(t),g(t,{target:".app-scrollbar"})])}}}),Pe=W(wn,[["__scopeId","data-v-633a1098"]]);function kn(s){return{all:s=s||new Map,on:function(r,d){var a=s.get(r);a?a.push(d):s.set(r,[d])},off:function(r,d){var a=s.get(r);a&&(d?a.splice(a.indexOf(d)>>>0,1):s.set(r,[]))},emit:function(r,d){var a=s.get(r);a&&a.slice().map(function(l){l(d)}),(a=s.get("*"))&&a.slice().map(function(l){l(r,d)})}}}const qe=kn(),He=Symbol("ROUTE_CHANGE");let je;function Re(){const s=[],r=(a,l=!1)=>{s.push(a),qe.on(He,a),l&&je&&a(je)},d=a=>{qe.off(He,a)};return xe(()=>{s.forEach(d)}),{listenerRouteChange:r,removeRouteListener:d}}var J={},Xe;function xn(){if(Xe)return J;Xe=1,Object.defineProperty(J,"__esModule",{value:!0}),J.TokenData=void 0,J.parse=h,J.compile=w,J.match=_,J.pathToRegexp=C,J.stringify=N;const s="/",r=m=>m,d=/^[$_\p{ID_Start}]$/u,a=/^[$\u200c\u200d\p{ID_Continue}]$/u,l="https://git.new/pathToRegexpError",e={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(m){return m.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function o(m){return m.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*i(m){const u=[...m];let f=0;function E(){let S="";if(d.test(u[++f]))for(S+=u[f];a.test(u[++f]);)S+=u[f];else if(u[f]==='"'){let y=f;for(;f<u.length;){if(u[++f]==='"'){f++,y=0;break}u[f]==="\\"?S+=u[++f]:S+=u[f]}if(y)throw new TypeError(`Unterminated quote at ${y}: ${l}`)}if(!S)throw new TypeError(`Missing parameter name at ${f}: ${l}`);return S}for(;f<u.length;){const S=u[f],y=e[S];if(y)yield{type:y,index:f++,value:S};else if(S==="\\")yield{type:"ESCAPED",index:f++,value:u[f++]};else if(S===":"){const I=E();yield{type:"PARAM",index:f,value:I}}else if(S==="*"){const I=E();yield{type:"WILDCARD",index:f,value:I}}else yield{type:"CHAR",index:f,value:u[f++]}}return{type:"END",index:f,value:""}}class p{constructor(u){this.tokens=u}peek(){if(!this._peek){const u=this.tokens.next();this._peek=u.value}return this._peek}tryConsume(u){const f=this.peek();if(f.type===u)return this._peek=void 0,f.value}consume(u){const f=this.tryConsume(u);if(f!==void 0)return f;const{type:E,index:S}=this.peek();throw new TypeError(`Unexpected ${E} at ${S}, expected ${u}: ${l}`)}text(){let u="",f;for(;f=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)u+=f;return u}}class c{constructor(u){this.tokens=u}}J.TokenData=c;function h(m,u={}){const{encodePath:f=r}=u,E=new p(i(m));function S(I){const D=[];for(;;){const H=E.text();H&&D.push({type:"text",value:f(H)});const j=E.tryConsume("PARAM");if(j){D.push({type:"param",name:j});continue}const le=E.tryConsume("WILDCARD");if(le){D.push({type:"wildcard",name:le});continue}if(E.tryConsume("{")){D.push({type:"group",tokens:S("}")});continue}return E.consume(I),D}}const y=S("END");return new c(y)}function w(m,u={}){const{encode:f=encodeURIComponent,delimiter:E=s}=u,S=m instanceof c?m:h(m,u),y=b(S.tokens,E,f);return function(D={}){const[H,...j]=y(D);if(j.length)throw new TypeError(`Missing parameters: ${j.join(", ")}`);return H}}function b(m,u,f){const E=m.map(S=>k(S,u,f));return S=>{const y=[""];for(const I of E){const[D,...H]=I(S);y[0]+=D,y.push(...H)}return y}}function k(m,u,f){if(m.type==="text")return()=>[m.value];if(m.type==="group"){const S=b(m.tokens,u,f);return y=>{const[I,...D]=S(y);return D.length?[""]:[I]}}const E=f||r;return m.type==="wildcard"&&f!==!1?S=>{const y=S[m.name];if(y==null)return["",m.name];if(!Array.isArray(y)||y.length===0)throw new TypeError(`Expected "${m.name}" to be a non-empty array`);return[y.map((I,D)=>{if(typeof I!="string")throw new TypeError(`Expected "${m.name}/${D}" to be a string`);return E(I)}).join(u)]}:S=>{const y=S[m.name];if(y==null)return["",m.name];if(typeof y!="string")throw new TypeError(`Expected "${m.name}" to be a string`);return[E(y)]}}function _(m,u={}){const{decode:f=decodeURIComponent,delimiter:E=s}=u,{regexp:S,keys:y}=C(m,u),I=y.map(D=>f===!1?r:D.type==="param"?f:H=>H.split(E).map(f));return function(H){const j=S.exec(H);if(!j)return!1;const le=j[0],ne=Object.create(null);for(let oe=1;oe<j.length;oe++){if(j[oe]===void 0)continue;const se=y[oe-1],Ie=I[oe-1];ne[se.name]=Ie(j[oe])}return{path:le,params:ne}}}function C(m,u={}){const{delimiter:f=s,end:E=!0,sensitive:S=!1,trailing:y=!0}=u,I=[],D=[],H=S?"":"i",le=(Array.isArray(m)?m:[m]).map(se=>se instanceof c?se:h(se,u));for(const{tokens:se}of le)for(const Ie of L(se,0,[])){const vt=T(Ie,f,I);D.push(vt)}let ne=`^(?:${D.join("|")})`;return y&&(ne+=`(?:${o(f)}$)?`),ne+=E?"$":`(?=${o(f)}|$)`,{regexp:new RegExp(ne,H),keys:I}}function*L(m,u,f){if(u===m.length)return yield f;const E=m[u];if(E.type==="group"){const S=f.slice();for(const y of L(E.tokens,0,S))yield*L(m,u+1,y)}else f.push(E);yield*L(m,u+1,f)}function T(m,u,f){let E="",S="",y=!0;for(let I=0;I<m.length;I++){const D=m[I];if(D.type==="text"){E+=o(D.value),S+=D.value,y||(y=D.value.includes(u));continue}if(D.type==="param"||D.type==="wildcard"){if(!y&&!S)throw new TypeError(`Missing text after "${D.name}": ${l}`);D.type==="param"?E+=`(${B(u,y?"":S)}+)`:E+="([\\s\\S]+)",f.push(D),S="",y=!1;continue}}return E}function B(m,u){return u.length<2?m.length<2?`[^${o(m+u)}]`:`(?:(?!${o(m)})[^${o(u)}])`:m.length<2?`(?:(?!${o(u)})[^${o(m)}])`:`(?:(?!${o(u)}|${o(m)})[\\s\\S])`}function N(m){return m.tokens.map(function u(f,E,S){if(f.type==="text")return t(f.value);if(f.type==="group")return`{${f.tokens.map(u).join("")}}`;const I=A(f.name)&&$(S[E+1])?f.name:JSON.stringify(f.name);if(f.type==="param")return`:${I}`;if(f.type==="wildcard")return`*${I}`;throw new TypeError(`Unexpected token: ${f}`)}).join("")}function A(m){const[u,...f]=m;return d.test(u)?f.every(E=>a.test(E)):!1}function $(m){return(m==null?void 0:m.type)!=="text"?!0:!a.test(m.value[0])}return J}var Sn=xn();const Cn={key:0,class:"no-redirect"},En=["onClick"],$n=F({__name:"index",setup(s){const r=Se(),d=Ce(),{listenerRouteChange:a}=Re(),l=z([]);function e(){l.value=r.matched.filter(i=>{var p,c;return((p=i.meta)==null?void 0:p.title)&&((c=i.meta)==null?void 0:c.breadcrumb)!==!1})}function t(i){return Sn.compile(i)(r.params)}function o(i){const{redirect:p,path:c}=i;if(p)return d.push(p);d.push(t(c))}return a(i=>{i.path.startsWith("/redirect/")||e()},!0),(i,p)=>{const c=Lt,h=Rt;return v(),M(h,null,{default:x(()=>[(v(!0),V(G,null,te(n(l),(w,b)=>(v(),M(c,{key:w.path},{default:x(()=>[w.redirect==="noRedirect"||b===n(l).length-1?(v(),V("span",Cn,U(w.meta.title),1)):(v(),V("a",{key:1,onClick:ve(k=>o(w),["prevent"])},U(w.meta.title),9,En))]),_:2},1024))),128))]),_:1})}}}),Tn=W($n,[["__scopeId","data-v-073d5a5d"]]),Mn={class:"layout-footer"},Ln=F({__name:"index",setup(s){const r="V3 Admin Vite";return(d,a)=>(v(),V("footer",Mn," MIT © 2021-PRESENT "+U(n(r)),1))}}),Rn=W(Ln,[["__scopeId","data-v-b41fd828"]]),In=F({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(s,{emit:r}){const d=s,a=r;function l(){a("toggleClick")}return(e,t)=>{const o=Te;return v(),V("div",{onClick:l},[g(o,{size:20,class:"icon"},{default:x(()=>[d.isActive?(v(),M(n(It),{key:0})):(v(),M(n(Vt),{key:1}))]),_:1})])}}}),Vn=W(In,[["__scopeId","data-v-1b10002f"]]),An="/assets/logo-text-1-CHuEm79x.png",Dn="/assets/logo-text-2-CVewf8RJ.png",Pn="/assets/logo-BY3URNHQ.png",On=["src"],Fn=["src"],zn=F({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(s){const r=s,{isLeft:d,isTop:a}=ae();return(l,e)=>{const t=K("router-link");return v(),V("div",{class:X(["layout-logo-container",{collapse:r.collapse,"layout-mode-top":n(a)}])},[g(nt,{name:"layout-logo-fade"},{default:x(()=>[r.collapse?(v(),M(t,{key:"collapse",to:"/"},{default:x(()=>[R("img",{src:n(Pn),class:"layout-logo"},null,8,On)]),_:1})):(v(),M(t,{key:"expand",to:"/"},{default:x(()=>[R("img",{src:n(d)?n(An):n(Dn),class:"layout-logo-text"},null,8,Fn)]),_:1}))]),_:1})],2)}}}),Oe=W(zn,[["__scopeId","data-v-788b2d2f"]]),Wn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Bn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Nn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Un={class:"card-header"},qn={class:"card-title"},Hn={class:"card-time"},jn={key:0,class:"card-avatar"},Xn=["src"],Kn={class:"card-body"},Gn=F({__name:"List",props:{data:{}},setup(s){const r=s;return(d,a)=>{const l=lt,e=At,t=Dt;return r.data.length===0?(v(),M(l,{key:0})):(v(!0),V(G,{key:1},te(r.data,(o,i)=>(v(),M(t,{key:i,shadow:"never",class:"card-container"},{header:x(()=>[R("div",Un,[R("div",null,[R("span",null,[R("span",qn,U(o.title),1),o.extra?(v(),M(e,{key:0,type:o.status,effect:"plain",size:"small"},{default:x(()=>[Z(U(o.extra),1)]),_:2},1032,["type"])):O("",!0)]),R("div",Hn,U(o.datetime),1)]),o.avatar?(v(),V("div",jn,[R("img",{src:o.avatar,width:"34"},null,8,Xn)])):O("",!0)])]),default:x(()=>[R("div",Kn,U(o.description??"No Data"),1)]),_:2},1024))),128))}}}),Jn=W(Gn,[["__scopeId","data-v-e43f7c1c"]]),Yn={class:"notify"},Qn={class:"notify-history"},Ke=99,Zn=350,eo=F({__name:"index",setup(s){const r=P(()=>a.value.reduce((e,t)=>e+t.list.length,0)),d=z("通知"),a=z([{name:"通知",type:"primary",list:Wn},{name:"消息",type:"danger",list:Bn},{name:"待办",type:"warning",list:Nn}]);function l(){we.success(`跳转到${d.value}历史页面`)}return(e,t)=>{const o=Te,i=me,p=Ot,c=Me,h=Ft,w=zt,b=it,k=Wt;return v(),V("div",Yn,[g(k,{placement:"bottom",width:Zn,trigger:"click"},{reference:x(()=>[g(p,{value:n(r),max:Ke,hidden:n(r)===0},{default:x(()=>[g(i,{effect:"dark",content:"消息通知",placement:"bottom"},{default:x(()=>[g(o,{size:20},{default:x(()=>[g(n(Pt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:x(()=>[g(w,{modelValue:n(d),"onUpdate:modelValue":t[0]||(t[0]=_=>pe(d)?d.value=_:null),class:"demo-tabs",stretch:""},{default:x(()=>[(v(!0),V(G,null,te(n(a),(_,C)=>(v(),M(h,{key:C,name:_.name},{label:x(()=>[Z(U(_.name)+" ",1),g(p,{value:_.list.length,max:Ke,type:_.type},null,8,["value","type"])]),default:x(()=>[g(c,{height:"400px"},{default:x(()=>[g(Jn,{data:_.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),R("div",Qn,[g(b,{link:"",onClick:l},{default:x(()=>[Z(" 查看"+U(n(d))+"历史 ",1)]),_:1})])]),_:1})])}}}),to=W(eo,[["__scopeId","data-v-69ccad30"]]),Ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Q=(()=>{if(typeof document>"u")return!1;const s=Ge[0],r={};for(const d of Ge)if((d==null?void 0:d[1])in document){for(const[l,e]of d.entries())r[s[l]]=e;return r}return!1})(),Je={change:Q.fullscreenchange,error:Q.fullscreenerror};let q={request(s=document.documentElement,r){return new Promise((d,a)=>{const l=()=>{q.off("change",l),d()};q.on("change",l);const e=s[Q.requestFullscreen](r);e instanceof Promise&&e.then(l).catch(a)})},exit(){return new Promise((s,r)=>{if(!q.isFullscreen){s();return}const d=()=>{q.off("change",d),s()};q.on("change",d);const a=document[Q.exitFullscreen]();a instanceof Promise&&a.then(d).catch(r)})},toggle(s,r){return q.isFullscreen?q.exit():q.request(s,r)},onchange(s){q.on("change",s)},onerror(s){q.on("error",s)},on(s,r){const d=Je[s];d&&document.addEventListener(d,r,!1)},off(s,r){const d=Je[s];d&&document.removeEventListener(d,r,!1)},raw:Q};Object.defineProperties(q,{isFullscreen:{get:()=>!!document[Q.fullscreenElement]},element:{enumerable:!0,get:()=>document[Q.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Q.fullscreenEnabled]}});Q||(q={isEnabled:!1});const de=q,Ye="content-large",Qe="content-full",no=F({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(s){const r=s,d=document.body.classList,a=de.isEnabled,l=z(!1),e=P(()=>l.value?r.exitTips:r.openTips),t=P(()=>l.value?"fullscreen-exit":"fullscreen");function o(){const k=document.querySelector(r.element)||void 0;a?de.toggle(k):we.warning("您的浏览器无法工作")}function i(){l.value=de.isFullscreen,l.value||d.remove(Ye,Qe)}be(k=>{a&&(de.on("change",i),k(()=>{de.off("change",i)}))});const p=z(!1),c=P(()=>p.value?"内容区复原":"内容区放大"),h=P(()=>p.value?"fullscreen-exit":"fullscreen");function w(){p.value=!p.value,d.toggle(Ye,p.value)}function b(){p.value&&w(),d.add(Qe),o()}return(k,_)=>{const C=K("SvgIcon"),L=me,T=ct,B=ut,N=dt;return v(),V("div",null,[r.content?(v(),M(N,{key:1,disabled:n(l)},{dropdown:x(()=>[g(B,null,{default:x(()=>[g(T,{onClick:w},{default:x(()=>[Z(U(n(c)),1)]),_:1}),g(T,{onClick:b},{default:x(()=>_[0]||(_[0]=[Z(" 内容区全屏 ")])),_:1})]),_:1})]),default:x(()=>[g(C,{name:n(h),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(v(),M(L,{key:0,effect:"dark",content:n(e),placement:"bottom"},{default:x(()=>[g(C,{name:n(t),onClick:o,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),mt=W(no,[["__scopeId","data-v-a5053718"]]);function ke(s){return/^(https?:|mailto:|tel:)/.test(s)}const oo={class:"search-footer"},so={class:"search-footer-item"},ro={class:"search-footer-item"},ao={class:"search-footer-item"},lo={class:"search-footer-total"},io=F({__name:"Footer",props:{total:{}},setup(s){const r=s,{isMobile:d}=ue();return(a,l)=>{const e=K("SvgIcon");return v(),V("div",oo,[n(d)?O("",!0):(v(),V(G,{key:0},[R("span",so,[g(e,{name:"keyboard-enter",class:"svg-icon"}),l[0]||(l[0]=R("span",null,"确认",-1))]),R("span",ro,[g(e,{name:"keyboard-up",class:"svg-icon"}),g(e,{name:"keyboard-down",class:"svg-icon"}),l[1]||(l[1]=R("span",null,"切换",-1))]),R("span",ao,[g(e,{name:"keyboard-esc",class:"svg-icon"}),l[2]||(l[2]=R("span",null,"关闭",-1))])],64)),R("span",lo,"共 "+U(r.total)+" 项",1)])}}}),co=W(io,[["__scopeId","data-v-3343156e"]]),uo=["onMouseenter"],fo={class:"result-item-title"},po=F({__name:"Result",props:xt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s,{expose:r}){const d=s,a=ot(s,"modelValue"),l=St(),e=z(0);function t(c){const h=c.name===a.value;return{background:h?"var(--el-color-primary)":"",color:h?"#ffffff":""}}function o(c){d.isPressUpOrDown||(a.value=c.name)}function i(){e.value=Number((window.innerHeight*.4).toFixed(1))}function p(c){var k;const h=(k=l==null?void 0:l.proxy)==null?void 0:k.$refs[`resultItemRef${c}`];if(!h)return 0;const b=h[0].offsetTop+128;return b>e.value?b-e.value:0}return st(()=>{window.addEventListener("resize",i)}),rt(()=>{i()}),xe(()=>{window.removeEventListener("resize",i)}),r({getScrollTop:p}),(c,h)=>{const w=K("SvgIcon");return v(),V("div",null,[(v(!0),V(G,null,te(d.data,(b,k)=>{var _,C,L;return v(),V("div",{key:k,ref_for:!0,ref:`resultItemRef${k}`,class:"result-item",style:at(t(b)),onMouseenter:T=>o(b)},[(_=b.meta)!=null&&_.svgIcon?(v(),M(w,{key:0,name:b.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(C=b.meta)!=null&&C.elIcon?(v(),M(ge(b.meta.elIcon),{key:1,class:"el-icon"})):O("",!0),R("span",fo,U((L=b.meta)==null?void 0:L.title),1),a.value&&a.value===b.name?(v(),M(w,{key:2,name:"keyboard-enter",class:"svg-icon"})):O("",!0)],44,uo)}),128))])}}}),mo=W(po,[["__scopeId","data-v-3a9bda93"]]),_o=F({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const r=ot(s,"modelValue"),d=Ce(),{isMobile:a}=ue(),l=z(null),e=z(null),t=z(null),o=z(""),i=Ct([]),p=z(void 0),c=z(!1),h=P(()=>a.value?"80vw":"40vw"),w=P(()=>Bt(De().routes)),b=fe(()=>{var u;const A=k(w.value),$=o.value.toLocaleLowerCase().trim();i.value=A.filter(f=>{var E,S;return o.value?(S=(E=f.meta)==null?void 0:E.title)==null?void 0:S.toLocaleLowerCase().includes($):!1});const m=(u=i.value)==null?void 0:u.length;p.value=m>0?i.value[0].name:void 0},500);function k(A,$=[]){return A.forEach(m=>{$.push(m),m.children&&k(m.children,$)}),$}function _(){r.value=!1,setTimeout(()=>{o.value="",i.value=[]},200)}function C(A){var m;if(!t.value)return;const $=t.value.getScrollTop(A);(m=e.value)==null||m.setScrollTop($)}function L(){c.value=!0;const{length:A}=i.value;if(A===0)return;const $=i.value.findIndex(m=>m.name===p.value);if($===0){const m=i.value[A-1].name;p.value===m&&A>1?(p.value=i.value[A-2].name,C(A-2)):(p.value=m,C(A-1))}else p.value=i.value[$-1].name,C($-1)}function T(){c.value=!0;const{length:A}=i.value;if(A===0)return;const $=i.value.map(m=>m.name).lastIndexOf(p.value);if($===A-1){const m=i.value[0].name;p.value===m&&A>1?(p.value=i.value[1].name,C(1)):(p.value=m,C(0))}else p.value=i.value[$+1].name,C($+1)}function B(){var u;const{length:A}=i.value;if(A===0)return;const $=p.value,m=(u=i.value.find(f=>f.name===$))==null?void 0:u.path;if(m&&ke(m))return window.open(m,"_blank","noopener, noreferrer");if(!$)return we.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{d.push({name:$})}catch{return we.warning("该菜单有必填的动态参数，无法通过搜索进入")}_()}function N(){c.value=!1}return(A,$)=>{const m=K("SvgIcon"),u=Nt,f=lt,E=Me,S=Ut;return v(),M(S,{modelValue:r.value,"onUpdate:modelValue":$[2]||($[2]=y=>r.value=y),"before-close":_,width:n(h),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:$[3]||($[3]=y=>{var I;return(I=n(l))==null?void 0:I.focus()}),onClosed:$[4]||($[4]=y=>{var I;return(I=n(l))==null?void 0:I.blur()}),onKeydown:[_e(L,["up"]),_e(T,["down"]),_e(B,["enter"])],onKeyup:_e(N,["up","down"])},{footer:x(()=>[g(co,{total:n(i).length},null,8,["total"])]),default:x(()=>[g(u,{ref_key:"inputRef",ref:l,modelValue:n(o),"onUpdate:modelValue":$[0]||($[0]=y=>pe(o)?o.value=y:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(b)},{prefix:x(()=>[g(m,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(i).length===0?(v(),M(f,{key:0,description:"暂无搜索结果","image-size":100})):(v(),V(G,{key:1},[$[5]||($[5]=R("p",null,"搜索结果",-1)),g(E,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:x(()=>[g(mo,{ref_key:"resultRef",ref:t,modelValue:n(p),"onUpdate:modelValue":$[1]||($[1]=y=>pe(p)?p.value=y:null),data:n(i),"is-press-up-or-down":n(c),onClick:B},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),vo=F({__name:"index",setup(s){const r=z(!1);function d(){r.value=!0}return(a,l)=>{const e=K("SvgIcon"),t=me;return v(),V("div",null,[g(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:x(()=>[g(e,{name:"search",onClick:d,class:"svg-icon"})]),_:1}),g(_o,{modelValue:n(r),"onUpdate:modelValue":l[0]||(l[0]=o=>pe(r)?r.value=o:null)},null,8,["modelValue"])])}}}),ho=W(vo,[["__scopeId","data-v-fc971deb"]]),go={class:"navigation-bar"},bo={class:"right-menu"},yo={class:"right-menu-item user"},wo=F({__name:"index",setup(s){const{isMobile:r}=ue(),{isTop:d}=ae(),a=Ce(),l=ce(),e=gt(),t=Y(),{showNotify:o,showThemeSwitch:i,showScreenfull:p,showSearchMenu:c}=ie(t);function h(){l.toggleSidebar(!1)}function w(){e.logout(),a.push("/login")}return(b,k)=>{const _=Ht,C=ct,L=ut,T=dt;return v(),V("div",go,[!n(d)||n(r)?(v(),M(n(Vn),{key:0,"is-active":n(l).sidebar.opened,class:"hamburger",onToggleClick:h},null,8,["is-active"])):O("",!0),!n(d)||n(r)?(v(),M(n(Tn),{key:1,class:"breadcrumb"})):O("",!0),n(d)&&!n(r)?(v(),M(n(ze),{key:2,class:"sidebar"})):O("",!0),R("div",bo,[n(c)?(v(),M(ho,{key:0,class:"right-menu-item"})):O("",!0),n(p)?(v(),M(mt,{key:1,class:"right-menu-item"})):O("",!0),n(i)?(v(),M(ln,{key:2,class:"right-menu-item"})):O("",!0),n(o)?(v(),M(to,{key:3,class:"right-menu-item"})):O("",!0),g(T,null,{dropdown:x(()=>[g(L,null,{default:x(()=>[g(C,{divided:"",onClick:w},{default:x(()=>k[0]||(k[0]=[Z(" 修改密码 ")])),_:1}),g(C,{divided:"",onClick:w},{default:x(()=>k[1]||(k[1]=[Z(" 退出登录 ")])),_:1})]),_:1})]),default:x(()=>[R("div",yo,[g(_,{icon:n(qt),size:30},null,8,["icon"]),R("span",null,U(n(e).username),1)])]),_:1})])])}}}),Fe=W(wo,[["__scopeId","data-v-4fadf217"]]),ko=F({__name:"index",setup(s){const r=z(!1);return(d,a)=>{const l=jt;return v(),M(l,{modelValue:n(r),"onUpdate:modelValue":a[0]||(a[0]=e=>pe(r)?r.value=e:null),size:"300px","with-header":!1},{default:x(()=>[ye(d.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])}}}),xo=W(ko,[["__scopeId","data-v-11b8aae5"]]),So={class:"select-layout-mode"},Co=F({__name:"SelectLayoutMode",setup(s){const{isLeft:r,isTop:d,isLeftTop:a,setLayoutMode:l}=ae();return(e,t)=>{const o=Xt,i=Kt,p=Gt,c=Jt,h=me;return v(),V("div",So,[g(h,{content:"左侧模式"},{default:x(()=>[g(c,{class:X(["layout-mode left",{active:n(r)}]),onClick:t[0]||(t[0]=w=>n(l)(n(re).Left))},{default:x(()=>[g(o),g(c,null,{default:x(()=>[g(i),g(p)]),_:1})]),_:1},8,["class"])]),_:1}),g(h,{content:"顶部模式"},{default:x(()=>[g(c,{class:X(["layout-mode top",{active:n(d)}]),onClick:t[1]||(t[1]=w=>n(l)(n(re).Top))},{default:x(()=>[g(i),g(p)]),_:1},8,["class"])]),_:1}),g(h,{content:"混合模式"},{default:x(()=>[g(c,{class:X(["layout-mode left-top",{active:n(a)}]),onClick:t[2]||(t[2]=w=>n(l)(n(re).LeftTop))},{default:x(()=>[g(i),g(c,null,{default:x(()=>[g(o),g(p)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Eo=W(Co,[["__scopeId","data-v-5f597e39"]]),$o={class:"setting-container"},To={class:"setting-name"},Mo=F({__name:"index",setup(s){const{isLeft:r}=ae(),d=Y(),{showTagsView:a,showLogo:l,fixedHeader:e,showFooter:t,showNotify:o,showThemeSwitch:i,showScreenfull:p,showSearchMenu:c,cacheTagsView:h,showWatermark:w,showGreyMode:b,showColorWeakness:k}=ie(d),_={显示标签栏:a,"显示 Logo":l,"固定 Header":e,显示页脚:t,显示消息通知:o,显示切换主题按钮:i,显示全屏按钮:p,显示搜索按钮:c,是否缓存标签栏:h,开启系统水印:w,显示灰色模式:b,显示色弱模式:k};be(()=>{!r.value&&(e.value=!0)});function C(){bt(),location.reload()}return(L,T)=>{const B=Qt,N=Zt,A=it;return v(),V("div",$o,[T[1]||(T[1]=R("h4",null,"布局配置",-1)),g(Eo),g(B),T[2]||(T[2]=R("h4",null,"功能配置",-1)),(v(),V(G,null,te(_,($,m,u)=>R("div",{key:u,class:"setting-item"},[R("span",To,U(m),1),g(N,{modelValue:$.value,"onUpdate:modelValue":f=>$.value=f,disabled:!n(r)&&m==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),g(A,{type:"danger",icon:n(Yt),onClick:C},{default:x(()=>T[0]||(T[0]=[Z(" 重 置 ")])),_:1},8,["icon"])])}}}),Lo=W(Mo,[["__scopeId","data-v-2a78baf4"]]);var Ve,Ze;function Ro(){if(Ze)return Ve;Ze=1;function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function r(l,e){for(var t="",o=0,i=-1,p=0,c,h=0;h<=l.length;++h){if(h<l.length)c=l.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(i===h-1||p===1))if(i!==h-1&&p===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var w=t.lastIndexOf("/");if(w!==t.length-1){w===-1?(t="",o=0):(t=t.slice(0,w),o=t.length-1-t.lastIndexOf("/")),i=h,p=0;continue}}else if(t.length===2||t.length===1){t="",o=0,i=h,p=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+l.slice(i+1,h):t=l.slice(i+1,h),o=h-i-1;i=h,p=0}else c===46&&p!==-1?++p:p=-1}return t}function d(l,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+l+o:o}var a={resolve:function(){for(var e="",t=!1,o,i=arguments.length-1;i>=-1&&!t;i--){var p;i>=0?p=arguments[i]:(o===void 0&&(o=process.cwd()),p=o),s(p),p.length!==0&&(e=p+"/"+e,t=p.charCodeAt(0)===47)}return e=r(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(s(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=r(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return s(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];s(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":a.normalize(e)},relative:function(e,t){if(s(e),s(t),e===t||(e=a.resolve(e),t=a.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var i=e.length,p=i-o,c=1;c<t.length&&t.charCodeAt(c)===47;++c);for(var h=t.length,w=h-c,b=p<w?p:w,k=-1,_=0;_<=b;++_){if(_===b){if(w>b){if(t.charCodeAt(c+_)===47)return t.slice(c+_+1);if(_===0)return t.slice(c+_)}else p>b&&(e.charCodeAt(o+_)===47?k=_:_===0&&(k=0));break}var C=e.charCodeAt(o+_),L=t.charCodeAt(c+_);if(C!==L)break;C===47&&(k=_)}var T="";for(_=o+k+1;_<=i;++_)(_===i||e.charCodeAt(_)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+t.slice(c+k):(c+=k,t.charCodeAt(c)===47&&++c,t.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(s(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,i=-1,p=!0,c=e.length-1;c>=1;--c)if(t=e.charCodeAt(c),t===47){if(!p){i=c;break}}else p=!1;return i===-1?o?"/":".":o&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');s(e);var o=0,i=-1,p=!0,c;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var h=t.length-1,w=-1;for(c=e.length-1;c>=0;--c){var b=e.charCodeAt(c);if(b===47){if(!p){o=c+1;break}}else w===-1&&(p=!1,w=c+1),h>=0&&(b===t.charCodeAt(h)?--h===-1&&(i=c):(h=-1,i=w))}return o===i?i=w:i===-1&&(i=e.length),e.slice(o,i)}else{for(c=e.length-1;c>=0;--c)if(e.charCodeAt(c)===47){if(!p){o=c+1;break}}else i===-1&&(p=!1,i=c+1);return i===-1?"":e.slice(o,i)}},extname:function(e){s(e);for(var t=-1,o=0,i=-1,p=!0,c=0,h=e.length-1;h>=0;--h){var w=e.charCodeAt(h);if(w===47){if(!p){o=h+1;break}continue}i===-1&&(p=!1,i=h+1),w===46?t===-1?t=h:c!==1&&(c=1):t!==-1&&(c=-1)}return t===-1||i===-1||c===0||c===1&&t===i-1&&t===o+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return d("/",e)},parse:function(e){s(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),i=o===47,p;i?(t.root="/",p=1):p=0;for(var c=-1,h=0,w=-1,b=!0,k=e.length-1,_=0;k>=p;--k){if(o=e.charCodeAt(k),o===47){if(!b){h=k+1;break}continue}w===-1&&(b=!1,w=k+1),o===46?c===-1?c=k:_!==1&&(_=1):c!==-1&&(_=-1)}return c===-1||w===-1||_===0||_===1&&c===w-1&&c===h+1?w!==-1&&(h===0&&i?t.base=t.name=e.slice(1,w):t.base=t.name=e.slice(h,w)):(h===0&&i?(t.name=e.slice(1,c),t.base=e.slice(1,w)):(t.name=e.slice(h,c),t.base=e.slice(h,w)),t.ext=e.slice(c,w)),h>0?t.dir=e.slice(0,h-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return a.posix=a,Ve=a,Ve}var Io=Ro();const _t=en(Io),Vo=["href"],Ao=F({name:"Link",__name:"Link",props:{to:{}},setup(s){const r=s;return(d,a)=>{const l=K("router-link");return n(ke)(r.to)?(v(),V("a",{key:0,href:r.to,target:"_blank",rel:"noopener"},[ye(d.$slots,"default")],8,Vo)):(v(),M(l,{key:1,to:r.to},{default:x(()=>[ye(d.$slots,"default")]),_:3},8,["to"]))}}}),Do={class:"title"},Po={key:2,class:"title"},Oo=F({__name:"Item",props:{item:{},basePath:{default:""}},setup(s){const r=s,d=P(()=>{var o;return(o=r.item.meta)==null?void 0:o.alwaysShow}),a=P(()=>{var o;return((o=r.item.children)==null?void 0:o.filter(i=>{var p;return!((p=i.meta)!=null&&p.hidden)}))??[]}),l=P(()=>a.value.length),e=P(()=>{const o=l.value;switch(!0){case o>1:return null;case o===1:return a.value[0];default:return{...r.item,path:""}}});function t(o){switch(!0){case ke(o):return o;case ke(r.basePath):return r.basePath;default:return _t.resolve(r.basePath,o)}}return(o,i)=>{const p=K("SvgIcon"),c=tn,h=K("Item",!0),w=nn;return!n(d)&&n(e)&&!n(e).children?(v(),V(G,{key:0},[n(e).meta?(v(),M(Ao,{key:0,to:t(n(e).path)},{default:x(()=>[g(c,{index:t(n(e).path)},Et({default:x(()=>[n(e).meta.svgIcon?(v(),M(p,{key:0,name:n(e).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(e).meta.elIcon?(v(),M(ge(n(e).meta.elIcon),{key:1,class:"el-icon"})):O("",!0)]),_:2},[n(e).meta.title?{name:"title",fn:x(()=>[R("span",Do,U(n(e).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):O("",!0)],64)):(v(),M(w,{key:1,index:t(r.item.path),teleported:""},{title:x(()=>{var b,k,_;return[(b=r.item.meta)!=null&&b.svgIcon?(v(),M(p,{key:0,name:r.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(k=r.item.meta)!=null&&k.elIcon?(v(),M(ge(r.item.meta.elIcon),{key:1,class:"el-icon"})):O("",!0),(_=r.item.meta)!=null&&_.title?(v(),V("span",Po,U(r.item.meta.title),1)):O("",!0)]}),default:x(()=>[r.item.children?(v(!0),V(G,{key:0},te(n(a),b=>(v(),M(h,{key:b.path,item:b,"base-path":t(b.path)},null,8,["item","base-path"]))),128)):O("",!0)]),_:1},8,["index"]))}}}),Fo=W(Oo,[["__scopeId","data-v-b9a9075f"]]),zo=F({__name:"index",setup(s){$t(A=>({"3a7e7ade":n(N),d5e9444a:n(T),"1f56c67a":n(B),"214ca4d6":n(L)}));const r=he("--v3-sidebar-menu-bg-color"),d=he("--v3-sidebar-menu-text-color"),a=he("--v3-sidebar-menu-active-text-color"),{isMobile:l}=ue(),{isLeft:e,isTop:t}=ae(),o=Se(),i=ce(),p=De(),c=Y(),h=P(()=>o.meta.activeMenu||o.path),w=P(()=>p.routes.filter(A=>{var $;return!(($=A.meta)!=null&&$.hidden)})),b=P(()=>!i.sidebar.opened),k=P(()=>e.value&&c.showLogo),_=P(()=>e.value?r:void 0),C=P(()=>e.value?d:void 0),L=P(()=>e.value?a:void 0),T=P(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),B=P(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),N=P(()=>t.value?"0px":"2px");return(A,$)=>{const m=on,u=Me;return v(),V("div",{class:X({"has-logo":n(k)})},[n(k)?(v(),M(n(Oe),{key:0,collapse:n(b)},null,8,["collapse"])):O("",!0),g(u,{"wrap-class":"scrollbar-wrapper"},{default:x(()=>[g(m,{"default-active":n(h),collapse:n(b)&&!n(t),"background-color":n(_),"text-color":n(C),"active-text-color":n(L),"collapse-transition":!1,mode:n(t)&&!n(l)?"horizontal":"vertical"},{default:x(()=>[(v(!0),V(G,null,te(n(w),f=>(v(),M(Fo,{key:f.path,item:f,"base-path":f.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),ze=W(zo,[["__scopeId","data-v-4fa8f0b3"]]),Wo={class:"scroll-container"},Bo=200,No=F({__name:"ScrollPane",props:{tagRefs:{}},setup(s){const r=s,d=Se(),a=Y(),{listenerRouteChange:l}=Re(),e=z(),t=z();let o=0;function i({scrollLeft:b}){o=b}function p({deltaY:b}){b.toString().startsWith("-")?h("left"):h("right")}function c(){const b=t.value.clientWidth,k=e.value.wrapRef.clientWidth,_=b-k-o;return{scrollbarContentRefWidth:b,scrollbarRefWidth:k,lastDistance:_}}function h(b,k=Bo){let _=0;const{scrollbarContentRefWidth:C,scrollbarRefWidth:L,lastDistance:T}=c();L>C||(b==="left"?_=Math.max(0,o-k):_=Math.min(o+k,o+T),e.value.setScrollLeft(_))}function w(){const b=r.tagRefs;for(let k=0;k<b.length;k++)if(d.path===b[k].$props.to.path){const _=b[k].$el,C=_.offsetWidth,L=_.offsetLeft,{scrollbarRefWidth:T}=c();if(L<o){const N=o-L;h("left",N);return}const B=T+o-C;if(L>B){const N=L-B;h("right",N);return}}}return l(()=>{Tt(w)}),(b,k)=>{const _=Te,C=me,L=Me;return v(),V("div",Wo,[g(C,{content:"向左滚动标签（超出最大宽度可点击）"},{default:x(()=>[g(_,{class:"arrow left",onClick:k[0]||(k[0]=T=>h("left"))},{default:x(()=>[g(n(sn))]),_:1})]),_:1}),g(L,{ref_key:"scrollbarRef",ref:e,onWheelPassive:p,onScroll:i},{default:x(()=>[R("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[ye(b.$slots,"default",{},void 0,!0)],512)]),_:3},512),g(C,{content:"向右滚动标签（超出最大宽度可点击）"},{default:x(()=>[g(_,{class:"arrow right",onClick:k[1]||(k[1]=T=>h("right"))},{default:x(()=>[g(n(rn))]),_:1})]),_:1}),n(a).showScreenfull?(v(),M(mt,{key:0,content:!0,class:"screenfull"})):O("",!0)])}}}),Uo=W(No,[["__scopeId","data-v-591fdcf1"]]),qo={class:"tags-view-container"},Ho=F({__name:"index",setup(s){const r=Ce(),d=Se(),a=et(),l=De(),{listenerRouteChange:e}=Re(),t=z([]),o=z(!1),i=z(0),p=z(0),c=z({});let h=[];function w(u){return u.path===d.path}function b(u){var f;return(f=u.meta)==null?void 0:f.affix}function k(u,f="/"){const E=[];return u.forEach(S=>{if(b(S)){const y=_t.resolve(f,S.path);E.push({fullPath:y,path:y,name:S.name,meta:{...S.meta}})}if(S.children){const y=k(S.children,S.path);E.push(...y)}}),E}function _(){h=k(l.routes);for(const u of h)u.name&&a.addVisitedView(u)}function C(u){u.name&&(a.addVisitedView(u),a.addCachedView(u))}function L(u){a.delCachedView(u),r.replace({path:`/redirect${u.path}`,query:u.query})}function T(u){a.delVisitedView(u),a.delCachedView(u),w(u)&&A(a.visitedViews,u)}function B(){const u=c.value.fullPath;u!==d.path&&u!==void 0&&r.push(u),a.delOthersVisitedViews(c.value),a.delOthersCachedViews(c.value)}function N(u){a.delAllVisitedViews(),a.delAllCachedViews(),!h.some(f=>f.path===d.path)&&A(a.visitedViews,u)}function A(u,f){const E=u.slice(-1)[0],S=E==null?void 0:E.fullPath;S!==void 0?r.push(S):f.name==="Dashboard"?r.push({path:`/redirect${f.path}`,query:f.query}):r.push("/")}function $(u,f){const y=document.body.offsetWidth-100,I=f.clientX+10;p.value=I>y?y:I,i.value=f.clientY,o.value=!0,c.value=u}function m(){o.value=!1}return tt(o,u=>{u?document.body.addEventListener("click",m):document.body.removeEventListener("click",m)}),_(),e(u=>{C(u)},!0),(u,f)=>{const E=Te,S=K("router-link");return v(),V("div",qo,[g(Uo,{class:"tags-view-wrapper","tag-refs":n(t)},{default:x(()=>[(v(!0),V(G,null,te(n(a).visitedViews,y=>(v(),M(S,{key:y.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:X([{active:w(y)},"tags-view-item"]),to:{path:y.path,query:y.query},onMouseup:ve(I=>!b(y)&&T(y),["middle"]),onContextmenu:ve(I=>$(y,I),["prevent"])},{default:x(()=>{var I;return[Z(U((I=y.meta)==null?void 0:I.title)+" ",1),b(y)?O("",!0):(v(),M(E,{key:0,size:12,onClick:ve(D=>T(y),["prevent","stop"])},{default:x(()=>[g(n(an))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Ee(R("ul",{class:"contextmenu",style:at({left:`${n(p)}px`,top:`${n(i)}px`})},[R("li",{onClick:f[0]||(f[0]=y=>L(n(c)))},"刷新"),b(n(c))?O("",!0):(v(),V("li",{key:0,onClick:f[1]||(f[1]=y=>T(n(c)))}," 关闭 ")),R("li",{onClick:B},"关闭其它"),R("li",{onClick:f[2]||(f[2]=y=>N(n(c)))},"关闭所有")],4),[[$e,n(o)]])])}}}),We=W(Ho,[["__scopeId","data-v-d7d05862"]]),jo=992;function Xo(){const s=ce(),{listenerRouteChange:r}=Re(),d=()=>document.body.getBoundingClientRect().width-1<jo,a=()=>{if(!document.hidden){const l=d();s.toggleDevice(l?ee.Mobile:ee.Desktop),l&&s.closeSidebar(!0)}};r(()=>{s.device===ee.Mobile&&s.sidebar.opened&&s.closeSidebar(!1)}),st(()=>{window.addEventListener("resize",a)}),rt(()=>{d()&&(s.toggleDevice(ee.Mobile),s.closeSidebar(!0))}),xe(()=>{window.removeEventListener("resize",a)})}const Ko=F({__name:"LeftMode",setup(s){const{isMobile:r}=ue(),{isLeft:d}=ae(),a=ce(),l=Y(),{showTagsView:e,fixedHeader:t}=ie(l),o=P(()=>({hideSidebar:!a.sidebar.opened,openSidebar:a.sidebar.opened,withoutAnimation:a.sidebar.withoutAnimation,mobile:r.value,noLeft:!d.value}));function i(){a.closeSidebar(!1)}return(p,c)=>(v(),V("div",{class:X([n(o),"app-wrapper"])},[n(o).mobile&&n(o).openSidebar?(v(),V("div",{key:0,class:"drawer-bg",onClick:i})):O("",!0),g(n(ze),{class:"sidebar-container"}),R("div",{class:X([{hasTagsView:n(e)},"main-container"])},[R("div",{class:X([{"fixed-header":n(t)},"layout-header"])},[g(n(Fe)),Ee(g(n(We),null,null,512),[[$e,n(e)]])],2),g(n(Pe),{class:"app-main"})],2)],2))}}),Go=W(Ko,[["__scopeId","data-v-555447f3"]]),Jo={class:"fixed-header layout-header"},Yo={class:"content"},Qo=F({__name:"LeftTopMode",setup(s){const r=ce(),d=Y(),{showTagsView:a,showLogo:l}=ie(d),e=P(()=>({hideSidebar:!r.sidebar.opened}));return(t,o)=>(v(),V("div",{class:X([n(e),"app-wrapper"])},[R("div",Jo,[n(l)?(v(),M(n(Oe),{key:0,collapse:!1,class:"logo"})):O("",!0),R("div",Yo,[g(n(Fe)),Ee(g(n(We),null,null,512),[[$e,n(a)]])])]),R("div",{class:X([{hasTagsView:n(a)},"main-container"])},[g(n(ze),{class:"sidebar-container"}),g(n(Pe),{class:"app-main"})],2)],2))}}),Zo=W(Qo,[["__scopeId","data-v-1673983b"]]),es={class:"app-wrapper"},ts={class:"fixed-header layout-header"},ns={class:"content"},os=F({__name:"TopMode",setup(s){const r=Y(),{showTagsView:d,showLogo:a}=ie(r);return(l,e)=>(v(),V("div",es,[R("div",ts,[R("div",ns,[n(a)?(v(),M(n(Oe),{key:0,collapse:!1,class:"logo"})):O("",!0),g(n(Fe),{class:"navigation-bar"})]),Ee(g(n(We),null,null,512),[[$e,n(d)]])]),R("div",{class:X([{hasTagsView:n(d)},"main-container"])},[g(n(Pe),{class:"app-main"})],2)]))}}),ss=W(os,[["__scopeId","data-v-0c5b289e"]]),Ae="--v3-tagsview-height",ds=F({__name:"index",setup(s){Xo();const{setWatermark:r,clearWatermark:d}=gn(),{isMobile:a}=ue(),{isLeft:l,isTop:e,isLeftTop:t}=ae(),o=Y(),{showSettings:i,showTagsView:p,showWatermark:c}=ie(o),h=he(Ae);return be(()=>{p.value?Ue(Ae,h):Ue(Ae,"0px")}),be(()=>{c.value?r("V3 Admin Vite"):d()}),(w,b)=>(v(),V("div",null,[n(l)||n(a)?(v(),M(Go,{key:0})):n(e)?(v(),M(ss,{key:1})):n(t)?(v(),M(Zo,{key:2})):O("",!0),n(i)?(v(),M(n(xo),{key:3},{default:x(()=>[g(n(Lo))]),_:1})):O("",!0)]))}});export{ds as default};
